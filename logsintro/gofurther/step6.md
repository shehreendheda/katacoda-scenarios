# Working with Facets

Now that we have all our logs parsed and enhanced we can start adding our attributes as facets.

**Note:** only new logs attributes are taken into account by the facets.

1. From the Log Explorer, find the url attribute on one of the logs we parsed.
1. Click on the attribute and choose Create facet for @http.url:
   ![Creating facet](gofurther/assets/creating_facet.png)

1. Configure your facet:
   ![Configuring facet](gofurther/assets/configuring_facet.png)
   *Facets can be used to filter, either on a string value or on a double/int range.*

1. Repeat for the **response_time** attribute

## Search

Select different facets options under **Facets** to filter the logs. Notice that the facets you select appear in the search field above the list. 

You can also try specific search criteria. For example, enter `@http.status_code:>400`{{copy}} into the search field to search for all logs with status_code above 400.

## Log Analytics

So far we have looked at raw and processed log lines. Turning the contents of a log into attributes and facets can be incredibly powerful, but turning them into graphs takes it to a whole new level.

Look at the icons to the left of the filter bar at the top of the window. You'll see one icon that looks like a chart. The chart displayed is a count of log lines or attributes that match the current query. Based on what you have learned so far, try out some options to make a few different graphs. 

  ![Log graph](gofurther/assets/log_graph.png)

Try to display:

  * The top http.url
  * The top http.url according to the response_time
  * The top http.url with CRITICAL status

Notice that you can then export the graph to a dashboard or create a monitor based on the graph criteria.

## Monitor

If you have taken the Intro to Datadog course, you will have learned about monitors. You can also build monitors from logs. 

In Log Analytics, click the Export icon and select **Export to monitor**. A new browser tab will open with log filter criteria filled out. You can fill out the remaining fields and click **Save** to create the monitor.

You can also create a Log Monitor from <a href="https://app.datadoghq.com/monitors#/create" target="_datadog">Monitor -> New Monitor</a>. Select **Logs** as the monitor type, define a query and the alert criteria, and then click **Save** to create the monitor.

For instance, we could monitor the amount of `5xx` or `4xx` that are generated by our stack at any given moment.

![Log monitor](gofurther/assets/log_monitor.png)
